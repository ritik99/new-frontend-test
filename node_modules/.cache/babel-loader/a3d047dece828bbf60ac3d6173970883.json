{"ast":null,"code":"var _jsxFileName = \"/Users/ritikdutta/Desktop/Sublime/src/components/uiElements/TwitterModal/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport './style.css';\nimport { tweetSign } from './../../../contractTranscations/verificationSign';\nimport { verification } from './../../../contractTranscations/verifyTweet';\nimport request from 'request';\nimport { useHistory } from 'react-router-dom';\nimport { render } from '@testing-library/react';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TwitterModal({\n  showTwitterModal,\n  closeTwitterModal\n}) {\n  _s();\n\n  // const [formStep, setFormStep] = useState(1)\n  var user;\n  const [url, seturl] = useState(window.location.href);\n  let currentStep = 1;\n  var webUrl = new URL(window.location.href);\n  var username = webUrl.searchParams.get(\"username\");\n\n  if (username != null && username != 'TwitterAuthenticationFailed') {\n    user = '@' + username;\n    currentStep = 3;\n    console.log(user, currentStep);\n  }\n\n  const [formStep, setFormStep] = useState(currentStep);\n  const address = window.sessionStorage.getItem(\"address\");\n  const history = useHistory();\n\n  if (address == null) {\n    history.push('/');\n  }\n\n  const [tweet, setTweet] = useState('');\n  const [tweetId, setTweetId] = useState();\n  const [veficationDone, setVeficationDone] = useState(false);\n\n  function makeid(length) {\n    var result = [];\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n    }\n\n    return result.join('');\n  }\n\n  function oauth() {\n    var c = makeid(17);\n    window.location.href = \"https://2wj5ed8tda.execute-api.us-east-1.amazonaws.com/default/my-func?type=request_token&nonce=\" + c;\n  }\n\n  function verify() {\n    console.log(address);\n    if (!user) return;\n    verification(tweetId, address, setVeficationDone, user);\n    closeTwitterModal();\n    setFormStep(1);\n  }\n\n  const [link, setLink] = useState(\"\");\n\n  function sign() {\n    if (!user) return;\n    tweetSign(address, user, setTweet);\n    setFormStep(4);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: showTwitterModal ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"twitterModalWrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"twitterModalWindow\",\n        children: [formStep === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"twitterFormStep\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle\",\n            children: \"Become part of Sublime\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle2\",\n            children: \"Connect your Twitter account in order to get verified.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle3 button\",\n            children: \"Learn more\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton1 button\",\n            onClick: () => oauth(),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"twitterFormStepButtonIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 45\n            }, this), \"Connect with Twitter\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton2 button\",\n            onClick: () => closeTwitterModal(),\n            children: \"Continue unverified\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }, this) : null, formStep === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"twitterFormStep\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formStepIndicator\",\n            children: \"1/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle twitterFormStepTittleLeft\",\n            children: \"Enter your twitter username to get started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter your twitter handle\",\n            type: \"text\",\n            className: \"formStepInput1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton3 button\",\n            onClick: () => setFormStep(3),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 37\n        }, this) : null, formStep === 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"twitterFormStep\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formStepIndicator\",\n            children: \"2/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle twitterFormStepTittleLeft\",\n            children: \"Sign a message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle2 twitterFormStepTittle2Left\",\n            children: \"Sign a message that would be used to link your wallet address and Twitter handle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepBadge\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"twitterFormStepBadgeIcon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"twitterFormStepBadgeIcon2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"twitterFormStepBadgeIcon3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"twitterFormStepBadgeText\",\n              children: user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton3 button\",\n            onClick: () => sign(),\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 33\n        }, this) : null, formStep === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"twitterFormStep\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formStepIndicator\",\n            children: \"3/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle twitterFormStepTittleLeft\",\n            children: \"Tweet this message to verify your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepBadge2\",\n            children: tweet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton1 button\",\n            onClick: () => setFormStep(5),\n            children: \"Tweet this message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 37\n        }, this) : null, formStep === 5 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"twitterFormStep\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formStepIndicator\",\n            children: \"4/4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle twitterFormStepTittleLeft\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter the tweet Id\",\n            type: \"text\",\n            className: \"formStepInput1\",\n            onChange: e => setTweetId(e.target.value),\n            value: tweetId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepTittle2 twitterFormStepTittle2Left\",\n            children: \"Submit to get verified\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"twitterFormStepButton1 button\",\n            onClick: () => verify(),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 37\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TwitterModal, \"Ri9qmtJvJwZFA84by2UgMT+DfoE=\", false, function () {\n  return [useHistory];\n});\n\n_c = TwitterModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TwitterModal\");","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/Sublime/src/components/uiElements/TwitterModal/index.js"],"names":["React","useState","tweetSign","verification","request","useHistory","render","useEffect","TwitterModal","showTwitterModal","closeTwitterModal","user","url","seturl","window","location","href","currentStep","webUrl","URL","username","searchParams","get","console","log","formStep","setFormStep","address","sessionStorage","getItem","history","push","tweet","setTweet","tweetId","setTweetId","veficationDone","setVeficationDone","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","join","oauth","c","verify","link","setLink","sign","e","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,aAAP;AACA,SAAQC,SAAR,QAAwB,kDAAxB;AACA,SAAQC,YAAR,QAA2B,6CAA3B;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAGA,eAAe,SAASC,YAAT,CAAsB;AAACC,EAAAA,gBAAD;AAAmBC,EAAAA;AAAnB,CAAtB,EAA6D;AAAA;;AAExE;AACA,MAAIC,IAAJ;AACA,QAAK,CAACC,GAAD,EAAKC,MAAL,IAAeZ,QAAQ,CAACa,MAAM,CAACC,QAAP,CAAgBC,IAAjB,CAA5B;AAGA,MAAIC,WAAW,GAAG,CAAlB;AACA,MAAIC,MAAM,GAAG,IAAIC,GAAJ,CAAQL,MAAM,CAACC,QAAP,CAAgBC,IAAxB,CAAb;AACA,MAAII,QAAQ,GAAGF,MAAM,CAACG,YAAP,CAAoBC,GAApB,CAAwB,UAAxB,CAAf;;AAEA,MAAGF,QAAQ,IAAG,IAAX,IAAmBA,QAAQ,IAAE,6BAAhC,EAA8D;AAC1DT,IAAAA,IAAI,GAAG,MAAMS,QAAb;AACAH,IAAAA,WAAW,GAAG,CAAd;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ,EAAiBM,WAAjB;AACH;;AACD,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BzB,QAAQ,CAACgB,WAAD,CAAxC;AACA,QAAMU,OAAO,GAAGb,MAAM,CAACc,cAAP,CAAsBC,OAAtB,CAA8B,SAA9B,CAAhB;AAEA,QAAMC,OAAO,GAAGzB,UAAU,EAA1B;;AAEA,MAAGsB,OAAO,IAAI,IAAd,EAAmB;AACfG,IAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACH;;AAED,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBhC,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACiC,OAAD,EAASC,UAAT,IAAuBlC,QAAQ,EAArC;AACA,QAAM,CAACmC,cAAD,EAAgBC,iBAAhB,IAAqCpC,QAAQ,CAAC,KAAD,CAAnD;;AAEA,WAASqC,MAAT,CAAgBC,MAAhB,EAAwB;AACpB,QAAIC,MAAM,GAAa,EAAvB;AACA,QAAIC,UAAU,GAAS,gEAAvB;AACA,QAAIC,gBAAgB,GAAGD,UAAU,CAACF,MAAlC;;AACA,SAAM,IAAII,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGJ,MAArB,EAA6BI,CAAC,EAA9B,EAAmC;AACjCH,MAAAA,MAAM,CAACT,IAAP,CAAYU,UAAU,CAACG,MAAX,CAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAC7CL,gBADkC,CAAlB,CAAZ;AAEF;;AACD,WAAOF,MAAM,CAACQ,IAAP,CAAY,EAAZ,CAAP;AACF;;AACD,WAASC,KAAT,GAAgB;AACZ,QAAIC,CAAC,GAAGZ,MAAM,CAAC,EAAD,CAAd;AACAxB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,qGAAmGkC,CAA1H;AACH;;AAED,WAASC,MAAT,GAAiB;AAEb5B,IAAAA,OAAO,CAACC,GAAR,CAAYG,OAAZ;AACA,QAAG,CAAChB,IAAJ,EAAU;AACVR,IAAAA,YAAY,CAAC+B,OAAD,EAASP,OAAT,EAAiBU,iBAAjB,EAAmC1B,IAAnC,CAAZ;AACAD,IAAAA,iBAAiB;AACjBgB,IAAAA,WAAW,CAAC,CAAD,CAAX;AACH;;AAED,QAAM,CAAC0B,IAAD,EAAOC,OAAP,IAAkBpD,QAAQ,CAAC,EAAD,CAAhC;;AAEA,WAASqD,IAAT,GAAe;AACX,QAAG,CAAC3C,IAAJ,EAAW;AACXT,IAAAA,SAAS,CAACyB,OAAD,EAAShB,IAAT,EAAcsB,QAAd,CAAT;AACAP,IAAAA,WAAW,CAAC,CAAD,CAAX;AACH;;AAID,sBACI,QAAC,KAAD,CAAO,QAAP;AAAA,cAGQjB,gBAAgB,gBAEZ;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,mBAIQgB,QAAQ,KAAK,CAAb,gBAEI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCAEI;AAAK,YAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAQI;AAAK,YAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAcI;AAAK,YAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAoBI;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAMwB,KAAK,EAAnE;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,eA4BI;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAMvC,iBAAiB,EAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,GAuCA,IA3CR,EA+CQe,QAAQ,KAAK,CAAb,gBAEI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAOI;AAAO,YAAA,WAAW,EAAC,2BAAnB;AAA+C,YAAA,IAAI,EAAC,MAApD;AAA2D,YAAA,SAAS,EAAC;AAArE;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,CAAD,CAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,GAiBA,IAhER,EAoEQD,QAAQ,KAAK,CAAb,gBAEA;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCACA;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAK,YAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFA,eAQA;AAAK,YAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARA,eAeA;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAOI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAPJ,eAWI;AAAK,cAAA,SAAS,EAAC,0BAAf;AAAA,wBACCd;AADD;AAAA;AAAA;AAAA;AAAA,oBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAfA,eA+BA;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAM2C,IAAI,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/BA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,GAwCA,IA5GR,EAgHQ7B,QAAQ,KAAK,CAAb,gBAEI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCAGA;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHA,eAIA;AAAK,YAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJA,eAUA;AAAK,YAAA,SAAS,EAAC,uBAAf;AAAA,sBAECO;AAFD;AAAA;AAAA;AAAA;AAAA,kBAVA,eAiBA;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAMN,WAAW,CAAC,CAAD,CAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,GA6BA,IA7IR,EAiJQD,QAAQ,KAAK,CAAb,gBAEI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCAGpC;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHoC,eAIJ;AAAK,YAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJI,eAUJ;AAAO,YAAA,WAAW,EAAC,oBAAnB;AAAwC,YAAA,IAAI,EAAC,MAA7C;AAAoD,YAAA,SAAS,EAAC,gBAA9D;AAA+E,YAAA,QAAQ,EAAE8B,CAAC,IAAIpB,UAAU,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxG;AAA0H,YAAA,KAAK,EAAEvB;AAAjI;AAAA;AAAA;AAAA;AAAA,kBAVI,eAWJ;AAAK,YAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXI,eAwBJ;AAAK,YAAA,SAAS,EAAC,+BAAf;AAA+C,YAAA,OAAO,EAAE,MAAMiB,MAAM,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBI;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,GAsCA,IAvLR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFY,GAoMhB;AAvMR;AAAA;AAAA;AAAA;AAAA,UADJ;AA6MH;;GA5QuB3C,Y;UAmBJH,U;;;KAnBIG,Y","sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport './style.css'\nimport {tweetSign} from './../../../contractTranscations/verificationSign'\nimport {verification} from './../../../contractTranscations/verifyTweet'\nimport request from 'request';\nimport { useHistory } from 'react-router-dom'\nimport { render } from '@testing-library/react';\nimport { useEffect } from 'react'\n\n\nexport default function TwitterModal({showTwitterModal, closeTwitterModal}) {\n\n    // const [formStep, setFormStep] = useState(1)\n    var user;\n    const[url,seturl] = useState(window.location.href)\n\n\n    let currentStep = 1;\n    var webUrl = new URL(window.location.href);\n    var username = webUrl.searchParams.get(\"username\");\n\n    if(username !=null && username!='TwitterAuthenticationFailed'){\n        user = '@' + username\n        currentStep = 3\n        console.log(user,currentStep)\n    }\n    const [formStep, setFormStep] = useState(currentStep)\n    const address = window.sessionStorage.getItem(\"address\");\n\n    const history = useHistory();\n\n    if(address == null){\n        history.push('/')\n    }\n\n    const [tweet,setTweet] = useState('')\n    const [tweetId,setTweetId] = useState()\n    const [veficationDone,setVeficationDone] = useState(false)\n\n    function makeid(length) {\n        var result           = [];\n        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charactersLength = characters.length;\n        for ( var i = 0; i < length; i++ ) {\n          result.push(characters.charAt(Math.floor(Math.random() * \n      charactersLength)));\n       }\n       return result.join('');\n    }\n    function oauth(){\n        var c = makeid(17)\n        window.location.href = \"https://2wj5ed8tda.execute-api.us-east-1.amazonaws.com/default/my-func?type=request_token&nonce=\"+c\n    }\n\n    function verify(){\n\n        console.log(address)\n        if(!user) return\n        verification(tweetId,address,setVeficationDone,user)\n        closeTwitterModal();\n        setFormStep(1)\n    }\n\n    const [link, setLink] = useState(\"\") \n\n    function sign(){\n        if(!user ) return\n        tweetSign(address,user,setTweet);\n        setFormStep(4);\n    }\n\n\n\n    return (\n        <React.Fragment>\n\n            {\n                showTwitterModal ?\n\n                    <div className=\"twitterModalWrapper\">\n                        <div className=\"twitterModalWindow\">\n\n\n                            {\n                                formStep === 1 ?\n                                \n                                    <div className=\"twitterFormStep\">\n\n                                        <div className=\"twitterFormStepTittle\">\n\n                                        Become part of Sublime                \n                                                                            \n                                        </div>\n\n                                        <div className=\"twitterFormStepTittle2\">\n\n                                        Connect your Twitter account in order to get verified.               \n                                                                            \n                                        </div>\n\n                                        <div className=\"twitterFormStepTittle3 button\">\n\n                                        Learn more            \n                                                                            \n                                        </div>\n\n                                        <div className=\"twitterFormStepButton1 button\" onClick={() => oauth()}>\n                                            <div className=\"twitterFormStepButtonIcon\">\n                                            \n                                            </div>\n                                            Connect with Twitter\n                                        </div>\n\n\n                                        <div className=\"twitterFormStepButton2 button\" onClick={() => closeTwitterModal()}>\n                                            Continue unverified\n                                        </div>\n\n                                    \n                                    </div>\n\n                                :\n\n                                null\n                            }\n\n                            {\n                                formStep === 2 ?\n                                \n                                    <div className=\"twitterFormStep\">\n                                        <div className=\"formStepIndicator\">1/4</div>\n                                        <div className=\"twitterFormStepTittle twitterFormStepTittleLeft\">\n\n                                        Enter your twitter username to get started         \n                                                                            \n                                        </div>\n                                        <input placeholder=\"Enter your twitter handle\" type=\"text\" className=\"formStepInput1\" />\n                                        <div className=\"twitterFormStepButton3 button\" onClick={() => setFormStep(3)}>\n                                            Next\n                                        </div>\n                                    </div>\n\n                                :\n\n                                null\n                            }\n\n                            {\n                                formStep === 3 ?\n                                \n                                <div className=\"twitterFormStep\">\n                                <div className=\"formStepIndicator\">2/4</div>\n                                <div className=\"twitterFormStepTittle twitterFormStepTittleLeft\">\n\n                                Sign a message     \n                                                                    \n                                </div>\n\n                                <div className=\"twitterFormStepTittle2 twitterFormStepTittle2Left\">\n\n                                    Sign a message that would be used to link your wallet address and Twitter handle          \n                                                                        \n                                </div>\n\n\n                                <div className=\"twitterFormStepBadge\">\n                                    <div className=\"twitterFormStepBadgeIcon1\">\n                                    \n                                    </div>\n                                    <div className=\"twitterFormStepBadgeIcon2\">\n                                    \n                                    </div>\n                                    <div className=\"twitterFormStepBadgeIcon3\">\n                                    \n                                    </div>\n\n                                    <div className=\"twitterFormStepBadgeText\">\n                                    {user}\n                                    </div>\n                                </div>\n\n                                <div className=\"twitterFormStepButton3 button\" onClick={() => sign()}>\n                                    Next\n                                </div>\n                            </div>\n\n                                :\n\n                                null\n                            }\n\n                            {\n                                formStep === 4 ?\n                                \n                                    <div className=\"twitterFormStep\">\n                                    \n\n                                    <div className=\"formStepIndicator\">3/4</div>\n                                    <div className=\"twitterFormStepTittle twitterFormStepTittleLeft\">\n\n                                        Tweet this message to verify your account   \n                                                                        \n                                    </div>\n\n                                    <div className=\"twitterFormStepBadge2\">\n\n                                    {tweet}\n\n                                    </div>\n\n                                    \n                                    <div className=\"twitterFormStepButton1 button\" onClick={() => setFormStep(5)}>\n                            \n                                    Tweet this message\n                                    </div>\n\n\n                                    </div>\n\n                                :\n\n                                null\n                            }\n\n                            {\n                                formStep === 5 ?\n                                \n                                    <div className=\"twitterFormStep\">\n\n\n<div className=\"formStepIndicator\">4/4</div>\n                                <div className=\"twitterFormStepTittle twitterFormStepTittleLeft\">\n\n                               Submit\n\n                                </div>\n                                \n                                <input placeholder=\"Enter the tweet Id\" type=\"text\" className=\"formStepInput1\" onChange={e => setTweetId(e.target.value)} value={tweetId}/>\n                                <div className=\"twitterFormStepTittle2 twitterFormStepTittle2Left\">\n                                Submit to get verified  \n                                                                        \n                                </div>\n\n\n                                {/* <div className=\"twitterFormStepTweet\">\n                   \n                                    Tweet\n                                                                        \n                                </div> */}\n\n\n                                <div className=\"twitterFormStepButton1 button\" onClick={() => verify()}>\n                            \n                                Submit\n                                </div>\n\n\n\n                                    \n                                    </div>\n\n                                :\n\n                                null\n                            }\n\n\n\n                        </div>\n                    </div>\n\n                :\n\n                null\n            }\n            \n        </React.Fragment>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}