{"ast":null,"code":"import request from 'request';\nimport { getSymbol } from './../../utility/symbol';\nimport { getLoanStartDay, countdown } from './../../utility/time';\nexport function getPoolConstants(variable, setter) {\n  const data = JSON.stringify({\n    query: ` {\n            globalPoolDetails {\n               ${variable}\n            }\n            }\n          `\n  });\n  var options = {\n    'method': 'POST',\n    'url': 'https://api.thegraph.com/subgraphs/name/sublime-finance/sublime',\n    'headers': {\n      'Content-Type': 'application/json'\n    },\n    'body': data\n  };\n  request(options, async function (error, response) {\n    if (error) throw new Error(error);\n    var body = JSON.parse(response.body);\n\n    if (body) {\n      if (body.data && body.data.globalPoolDetails) {\n        setter(countdown(body.data.globalPoolDetails[0].collectionPeriod));\n      }\n    }\n  });\n}\n;","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/Sublime/src/query/poolFactory/getConstants.js"],"names":["request","getSymbol","getLoanStartDay","countdown","getPoolConstants","variable","setter","data","JSON","stringify","query","options","error","response","Error","body","parse","globalPoolDetails","collectionPeriod"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,SAAQC,SAAR,QAAwB,wBAAxB;AAEA,SAAQC,eAAR,EAAwBC,SAAxB,QAAwC,sBAAxC;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAmCC,MAAnC,EAA0C;AAG7C,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AACxBC,IAAAA,KAAK,EAAG;AAChB;AACA,iBAAiBL,QAAS;AAC1B;AACA;AACA;AANgC,GAAf,CAAb;AAQA,MAAIM,OAAO,GAAG;AACV,cAAU,MADA;AAEV,WAAO,iEAFG;AAGV,eAAW;AAAC,sBAAgB;AAAjB,KAHD;AAIV,YAAQJ;AAJE,GAAd;AAQAP,EAAAA,OAAO,CAACW,OAAD,EAAU,gBAAgBC,KAAhB,EAAuBC,QAAvB,EAAiC;AAE9C,QAAID,KAAJ,EAAW,MAAM,IAAIE,KAAJ,CAAUF,KAAV,CAAN;AACX,QAAIG,IAAI,GAAGP,IAAI,CAACQ,KAAL,CAAWH,QAAQ,CAACE,IAApB,CAAX;;AAEA,QAAGA,IAAH,EAAQ;AACJ,UAAGA,IAAI,CAACR,IAAL,IAAaQ,IAAI,CAACR,IAAL,CAAUU,iBAA1B,EAA4C;AAExCX,QAAAA,MAAM,CAACH,SAAS,CAACY,IAAI,CAACR,IAAL,CAAUU,iBAAV,CAA4B,CAA5B,EAA+BC,gBAAhC,CAAV,CAAN;AACH;AACJ;AACJ,GAXM,CAAP;AAaH;AAAA","sourcesContent":["import request from 'request'\nimport {getSymbol} from './../../utility/symbol'\n\nimport {getLoanStartDay,countdown} from './../../utility/time'\n\nexport function getPoolConstants(variable,setter){\n\n\n    const data = JSON.stringify({\n        query: ` {\n            globalPoolDetails {\n               ${variable}\n            }\n            }\n          `\n    })\n    var options = {\n        'method': 'POST',\n        'url': 'https://api.thegraph.com/subgraphs/name/sublime-finance/sublime',\n        'headers': {'Content-Type': 'application/json'},\n        'body': data\n    }       \n\n\n    request(options, async function (error, response) {\n\n        if (error) throw new Error(error); \n        var body = JSON.parse(response.body)\n\n        if(body){\n            if(body.data && body.data.globalPoolDetails){\n\n                setter(countdown(body.data.globalPoolDetails[0].collectionPeriod))\n            }   \n        }  \n    })\n    \n};"]},"metadata":{},"sourceType":"module"}