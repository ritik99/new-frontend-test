{"ast":null,"code":"var _jsxFileName = \"/Users/ritikdutta/Desktop/sublime-frontend/src/components/uiElements/CreateBorrowPoolModal/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport dai from './images/dai.png';\nimport compound from './images/compound.png';\nimport '@hassanmojab/react-modern-calendar-datepicker/lib/DatePicker.css';\nimport { Calendar, utils } from '@hassanmojab/react-modern-calendar-datepicker';\nimport './style.css';\nimport DropdownMenu from '../DropdownMenu';\nimport request from 'request';\nimport { ethers } from 'ethers';\nimport { requestCreditLineLender } from './../../../contractTranscations/creditLine/creditLineRequest';\nimport { borrowPools } from './../../../query/pool/borrowingPools';\nimport { getTotalBorrowedAmount, getBorrowRate } from './../../../utility/dashboard';\nimport { createOpenBorrowPool } from '../../../contractTranscations/pool/createOpenBorrowPool';\nimport { getConfiguredAddress, getSupportedTokens } from '../../../utility/functions';\nimport { getRequiredCollateralAmount } from \"../../../query/pool/requiredCollateral\";\nimport { calculateRepayment } from \"../../../utility/poolUtility\";\nimport { useEffect } from 'react/cjs/react.development';\nimport { getPoolConstants } from \"../../../query/poolFactory/getConstants\";\nimport ActivityIndicator from '../ActivityIndicator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst addr = getConfiguredAddress('poolFactory');\n\nconst poolContract = require(\"../../../abi/poolFactory.json\");\n\nexport default function CreateBorrowPoolModal({\n  showModal,\n  openModal,\n  onPoolCreated\n}) {\n  _s();\n\n  const history = useHistory();\n  const icon = dai;\n  const icon2 = compound;\n  const [error, setError] = useState('');\n  const [requesting, setRequesting] = useState(false);\n  const [totalInterest, setTotalInterest] = useState(0);\n  const [totalRepayment, setTotalRepayment] = useState(0);\n  const [eachInstallment, setEachInstallment] = useState(0);\n  const [collectionPeriod, setCollectionPeriod] = useState();\n\n  const onResponseCalback = response => {\n    if (response.error) {\n      setError(response.message);\n    } else if (response.success) {\n      openModal();\n      setFormStep(1);\n      onPoolCreated();\n    }\n\n    setRequesting(false);\n  };\n\n  const depositTokenFunc = async data => {\n    setError('');\n    setRequesting(true);\n    let borrowToken = DropdownBorrowToken.address;\n    let CollateralToken = DropdownCollateral.address;\n    const depositData = {\n      borrowAmount,\n      borrowToken,\n      CollateralToken,\n      collaterizationRatio,\n      interestRate,\n      loanPeriod,\n      repaymentPeriod,\n      description,\n      requiredCollateral\n    };\n    createOpenBorrowPool(depositData, onResponseCalback);\n  };\n\n  function collateralCalculate() {\n    let borrowToken = DropdownBorrowToken.value;\n    let CollateralToken = DropdownCollateral.value;\n    getRequiredCollateralAmount(borrowToken, CollateralToken, setRequiredCollateral, borrowAmount, collaterizationRatio);\n    getPoolConstants(\"collectionPeriod\", setCollectionPeriod);\n    setStep(4);\n  }\n\n  const formatNumberForDisplay = requiredCollateral => {\n    let n = parseFloat(requiredCollateral);\n    console.log(n);\n    console.log(n.toFixed(20).match(/^-?\\d*\\.?0*\\d{0,2}/)[0]);\n    return n.toFixed(20).match(/^-?\\d*\\.?0*\\d{0,2}/)[0];\n    ;\n  };\n\n  function updates() {\n    let [totalInterest, totalRepayment, eachInstallment] = calculateRepayment(borrowAmount, interestRate, loanPeriod, repaymentPeriod); // setRepaymentData(result)\n\n    setTotalInterest(totalInterest);\n    setTotalRepayment(totalRepayment);\n    setEachInstallment(eachInstallment);\n  }\n\n  const [DropdownBorrowToken, setDropdownBorrowToken] = useState('');\n  const [DropdownCollateral, setDropdownCollateral] = useState('');\n  const [requiredCollateral, setRequiredCollateral] = useState('calculating...'); // const dropdownData = [\n  //     {\n  //         value: 'ETH',\n  //         icon: 'https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/256/Ethereum-ETH-icon.png'\n  //     },\n  //     {\n  //         value: 'USDC',\n  //         icon: 'https://messari.io/asset-images/4515ba15-2719-4183-b0ca-b9255d55b67e/128.png?v=2'\n  //     },\n  // ]\n  // const [dropdownSelected, setDropdownSelected] = useState(dropdownData[0])\n  // const [dropdownSelected2, setDropdownSelected2] = useState(dropdownData[0])\n\n  const [formStep, setFormStep] = useState(1);\n\n  const setStep = index => {\n    setError('');\n    setFormStep(index);\n  };\n\n  const [selectedDayRange, setSelectedDayRange] = useState({\n    from: null,\n    to: null\n  });\n  const [showCalendar, setshowCalendar] = useState(false);\n\n  const openCalendar = () => {\n    setshowCalendar(prev => !prev);\n  };\n\n  const [repaymentPeriod, setRepaymentPeriod] = useState('1 week');\n  const [loanPeriod, setLoanPeriod] = useState('1 week');\n\n  const changeLoanPeriod = index => {\n    setLoanPeriod(index);\n  };\n\n  const changeRepaymentPeriod = index => {\n    setRepaymentPeriod(index);\n  };\n\n  const [borrowAmount, setBorrowAmount] = useState('');\n  const [borrowAsset, setborrowAsset] = useState('dai');\n  const [collateralAsset, setcollateralAsset] = useState('compound 1');\n  const [collaterizationRatio, setCollaterizationRatio] = useState('');\n  const [interestRate, setInterestRate] = useState('');\n  const [description, setDescription] = useState('');\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: showModal ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageModalOverlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"borrowPoolWindow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolWindowHeader\",\n            children: [\"Create an Open Borrow Pool\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolWindowHeaderButton\",\n              onClick: openModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), formStep === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepTitle1\",\n              children: \"The Open Borrow Pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepTitle2\",\n              children: \"Sublime lets borrowers create their own individual loan pools that are open to everyone.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepParagraph\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the pool size & tokens supported\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the interest rate you are offering - fixed or variable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the time period - fixed or indefinite terms, repayment schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Decide the collateral amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepButton\",\n              onClick: () => setStep(2),\n              children: \"Create Borrow Pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 21\n          }, this) : null, formStep === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"Enter the Amount\",\n                onChange: e => setBorrowAmount(e.target.value),\n                value: borrowAmount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              dropdownSelected: DropdownBorrowToken,\n              setDropdownSelected: setDropdownBorrowToken,\n              dropdownData: getSupportedTokens('borrowTokens')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(1),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: () => setStep(3),\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this) : null, formStep === 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepHint\",\n              children: \"Collateral Asset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              dropdownSelected: DropdownCollateral,\n              setDropdownSelected: setDropdownCollateral,\n              dropdownData: getSupportedTokens('collateralTokens')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Collaterization Ratio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"Enter Collaterization Ratio\",\n                value: collaterizationRatio,\n                onChange: e => setCollaterizationRatio(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaRight\",\n                children: \"%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolBadge\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeHint\",\n                children: \"Amount getting borrowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeValue\",\n                children: [borrowAmount, \" \", DropdownBorrowToken.value]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeHint\",\n                children: \"Collaterization Ratio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeValue\",\n                children: [collaterizationRatio, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(2),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: collateralCalculate,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this) : null, formStep === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"errorMessage\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Interest Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"eg. 34%\",\n                value: interestRate,\n                onChange: e => {\n                  setInterestRate(e.target.value);\n                  updates();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaRight\",\n                children: \"%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea borrowPoolAmountAreaLink\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Loan Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendatButtonsMainWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsNav calendarButtonsNavLeft button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-long-arrow-alt-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsWrapper calendarButtonsWrapper2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '1 week' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('1 week');\n                      updates();\n                    },\n                    children: \"1 week\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '2 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('2 weeks');\n                      updates();\n                    },\n                    children: \"2 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '3 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('3 weeks');\n                      updates();\n                    },\n                    children: \"3 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '4 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('4 weeks');\n                      updates();\n                    },\n                    children: \"4 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '5 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('5 weeks');\n                      updates();\n                    },\n                    children: \"5 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsNav calendarButtonsNavRight button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-long-arrow-alt-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea borrowPoolAmountAreaLink\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Repayment Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendarButtonsWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '1 week' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('1 week');\n                    updates();\n                  },\n                  children: \"1 week\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '2 weeks' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('2 weeks');\n                    updates();\n                  },\n                  children: \"2 weeks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '4 weeks' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('4 weeks');\n                    updates();\n                  },\n                  children: \"4 weeks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === 'lone period' ? 'calendarButtonActive calendarButtonActiveLone' : 'calendarButton calendarButtonLone',\n                  onClick: () => {\n                    changeRepaymentPeriod('loan period');\n                    updates();\n                  },\n                  children: \"End on loan period\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolGreyPad\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Collateral needed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [\"~ \", formatNumberForDisplay(requiredCollateral), \" \", DropdownCollateral.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Loan amount requested\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [borrowAmount, \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Total Repayment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [totalRepayment, \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Each Instalment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [eachInstallment, \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Total Interest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [totalInterest, \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolSmallHint\",\n              children: [\"Lenders will have \", collectionPeriod, \" to deposit liquidity in this pool\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(3),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: () => depositTokenFunc('data'),\n                children: requesting ? /*#__PURE__*/_jsxDEV(ActivityIndicator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 51\n                }, this) : 'Create Pool'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this) : '', formStep === 5 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolNoteWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolNoteTitle\",\n                children: \"You can add a description for the pool here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"borrowPoolNoteTextArea\",\n                placeholder: \"eg. funds will be used for yield farming\",\n                value: description,\n                onChange: e => setDescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepButton\",\n              onClick: () => depositTokenFunc('data'),\n              children: \"Deposit token amount and create pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateBorrowPoolModal, \"bQGPpvu18KBrqXKvfm/aLMMLoy8=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateBorrowPoolModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateBorrowPoolModal\");","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/sublime-frontend/src/components/uiElements/CreateBorrowPoolModal/index.js"],"names":["React","useState","useHistory","dai","compound","Calendar","utils","DropdownMenu","request","ethers","requestCreditLineLender","borrowPools","getTotalBorrowedAmount","getBorrowRate","createOpenBorrowPool","getConfiguredAddress","getSupportedTokens","getRequiredCollateralAmount","calculateRepayment","useEffect","getPoolConstants","ActivityIndicator","addr","poolContract","require","CreateBorrowPoolModal","showModal","openModal","onPoolCreated","history","icon","icon2","error","setError","requesting","setRequesting","totalInterest","setTotalInterest","totalRepayment","setTotalRepayment","eachInstallment","setEachInstallment","collectionPeriod","setCollectionPeriod","onResponseCalback","response","message","success","setFormStep","depositTokenFunc","data","borrowToken","DropdownBorrowToken","address","CollateralToken","DropdownCollateral","depositData","borrowAmount","collaterizationRatio","interestRate","loanPeriod","repaymentPeriod","description","requiredCollateral","collateralCalculate","value","setRequiredCollateral","setStep","formatNumberForDisplay","n","parseFloat","console","log","toFixed","match","updates","setDropdownBorrowToken","setDropdownCollateral","formStep","index","selectedDayRange","setSelectedDayRange","from","to","showCalendar","setshowCalendar","openCalendar","prev","setRepaymentPeriod","setLoanPeriod","changeLoanPeriod","changeRepaymentPeriod","setBorrowAmount","borrowAsset","setborrowAsset","collateralAsset","setcollateralAsset","setCollaterizationRatio","setInterestRate","setDescription","e","target"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState } from 'react'\n\nimport { useHistory } from 'react-router-dom'\nimport dai from './images/dai.png'\nimport compound from './images/compound.png'\nimport '@hassanmojab/react-modern-calendar-datepicker/lib/DatePicker.css';\nimport { Calendar, utils} from '@hassanmojab/react-modern-calendar-datepicker';\nimport './style.css'\nimport DropdownMenu from '../DropdownMenu'\nimport request from 'request'\nimport { ethers } from 'ethers'\nimport {requestCreditLineLender} from './../../../contractTranscations/creditLine/creditLineRequest'\nimport {borrowPools} from './../../../query/pool/borrowingPools'\nimport {getTotalBorrowedAmount,getBorrowRate} from './../../../utility/dashboard'\n\nimport {createOpenBorrowPool} from '../../../contractTranscations/pool/createOpenBorrowPool'\nimport { getConfiguredAddress, getSupportedTokens } from '../../../utility/functions'\nimport {getRequiredCollateralAmount} from \"../../../query/pool/requiredCollateral\"\nimport {calculateRepayment} from \"../../../utility/poolUtility\"\nimport { useEffect } from 'react/cjs/react.development'\nimport {getPoolConstants} from \"../../../query/poolFactory/getConstants\"\nimport ActivityIndicator from '../ActivityIndicator'\n\nconst addr = getConfiguredAddress('poolFactory');\nconst poolContract = require(\"../../../abi/poolFactory.json\");\n\nexport default function CreateBorrowPoolModal({showModal, openModal, onPoolCreated}) {\n\n    const history = useHistory();\n\n    const icon = dai;\n    const icon2 = compound;\n\n    const [error, setError] = useState('');\n    const [requesting, setRequesting] = useState(false);\n    const [totalInterest,setTotalInterest] = useState(0);\n    const [totalRepayment,setTotalRepayment] = useState(0);\n    const [eachInstallment,setEachInstallment] = useState(0);\n    const [collectionPeriod,setCollectionPeriod] = useState()\n\n    const onResponseCalback = (response) => {\n        if (response.error) {\n            setError(response.message)\n        } else if (response.success) {\n            openModal();\n            setFormStep(1);\n            onPoolCreated()\n        }\n\n        setRequesting(false)\n    }\n\n    const depositTokenFunc = async (data) => {\n        setError('')\n        setRequesting(true)\n        let borrowToken = DropdownBorrowToken.address\n        let CollateralToken = DropdownCollateral.address\n    \n        const depositData = {\n          borrowAmount,\n          borrowToken,\n          CollateralToken,\n          collaterizationRatio,\n          interestRate,\n          loanPeriod,\n          repaymentPeriod,\n          description,\n          requiredCollateral\n        };\n        createOpenBorrowPool(depositData, onResponseCalback)\n      };\n    \n    function collateralCalculate(){\n\n        let borrowToken = DropdownBorrowToken.value\n        let CollateralToken = DropdownCollateral.value\n    \n        getRequiredCollateralAmount(borrowToken, CollateralToken, \n                                    setRequiredCollateral, borrowAmount, \n                                    collaterizationRatio)\n        getPoolConstants(\"collectionPeriod\",setCollectionPeriod)\n        setStep(4)\n    }\n\n    const formatNumberForDisplay = (requiredCollateral) => {\n        let n = parseFloat(requiredCollateral);\n        console.log(n);\n        console.log(n.toFixed(20).match(/^-?\\d*\\.?0*\\d{0,2}/)[0]);\n        return n.toFixed(20).match(/^-?\\d*\\.?0*\\d{0,2}/)[0];;\n    }\n      \n    function updates(){\n        let [totalInterest,totalRepayment,eachInstallment] = calculateRepayment(borrowAmount, interestRate, loanPeriod, repaymentPeriod)\n        // setRepaymentData(result)\n        setTotalInterest(totalInterest)\n        setTotalRepayment(totalRepayment)\n        setEachInstallment(eachInstallment)\n        \n    }\n\n    \n    const [DropdownBorrowToken, setDropdownBorrowToken] = useState('')\n    const [DropdownCollateral, setDropdownCollateral] = useState('')\n    const [requiredCollateral,setRequiredCollateral] = useState('calculating...')\n\n    // const dropdownData = [\n    //     {\n    //         value: 'ETH',\n    //         icon: 'https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/256/Ethereum-ETH-icon.png'\n    //     },\n    //     {\n    //         value: 'USDC',\n    //         icon: 'https://messari.io/asset-images/4515ba15-2719-4183-b0ca-b9255d55b67e/128.png?v=2'\n    //     },\n    // ]\n\n\n\n\n\n    // const [dropdownSelected, setDropdownSelected] = useState(dropdownData[0])\n    // const [dropdownSelected2, setDropdownSelected2] = useState(dropdownData[0])\n\n\n\n    const [formStep, setFormStep] = useState(1);\n\n    const setStep = (index) => {\n        setError('')\n        setFormStep(index);\n    }\n\n    const [selectedDayRange, setSelectedDayRange] = useState({\n        from: null,\n        to: null\n      });\n\n    const [showCalendar, setshowCalendar] = useState(false)\n\n    const openCalendar = () => {\n        setshowCalendar(prev => !prev)\n      }\n\n\n    const [repaymentPeriod, setRepaymentPeriod] = useState('1 week')\n    const [loanPeriod, setLoanPeriod] = useState('1 week')\n    \n\n    const changeLoanPeriod = (index) => {\n        setLoanPeriod(index);\n    }\n\n    const changeRepaymentPeriod = (index) => {\n        setRepaymentPeriod(index);\n    }\n\n    const [borrowAmount, setBorrowAmount] = useState('')\n    const [borrowAsset, setborrowAsset] = useState('dai')\n    const [collateralAsset, setcollateralAsset] = useState('compound 1')\n    const [collaterizationRatio, setCollaterizationRatio] = useState('')\n    const [interestRate, setInterestRate] = useState('')\n    const [description, setDescription] = useState('')\n\n    return (\n        <React.Fragment>\n            {showModal ?\n                <React.Fragment>\n                <div className=\"pageModalOverlay\">\n                    <div className=\"borrowPoolWindow\">\n                        <div className=\"borrowPoolWindowHeader\">\n                            Create an Open Borrow Pool\n                            <div className=\"borrowPoolWindowHeaderButton\" onClick={openModal}>\n                            </div>\n                        </div>\n                    {formStep === 1 ? \n                    <div className=\"borrowPoolStep\">\n\n                        <div className=\"borrowPoolStepTitle1\">\n                            The Open Borrow Pool\n                        </div>\n                        <div className=\"borrowPoolStepTitle2\">\n                            Sublime lets borrowers create their own individual loan pools that are open to everyone.\n                        </div>\n                        <div className=\"borrowPoolStepParagraph\">\n                            <ul>\n                                <li>Set the pool size & tokens supported</li>\n                                <li>Set the interest rate you are offering - fixed or variable</li>\n                                <li>Set the time period - fixed or indefinite terms, repayment schedule</li>\n                                <li>Decide the collateral amount</li>\n                            </ul>\n                        </div>\n\n                        <div className=\"borrowPoolStepButton\" onClick={() => setStep(2)}>\n                            Create Borrow Pool\n                        </div>\n\n                    </div>\n                    : null}\n\n                    {formStep === 2 ?\n                        <div className=\"borrowPoolStep\">\n\n                            <div className=\"borrowPoolAmountArea\">\n                                <div className=\"borrowPoolAmountAreaTitle\">\n                                    Amount\n                                </div>\n                                <input type=\"text\" className=\"borrowPoolAmountAreaField\" placeholder=\"Enter the Amount\" onChange={e => setBorrowAmount(e.target.value)} value={borrowAmount} />\n                            </div>\n                            <DropdownMenu\n                                dropdownSelected={DropdownBorrowToken}\n                                setDropdownSelected={setDropdownBorrowToken}\n                                dropdownData={getSupportedTokens('borrowTokens')}\n                            />\n                            <div className=\"borrowPoolButtonsWrapper\">\n                                <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(1)}>Back</div>\n                                <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={() => setStep(3)}>Next</div>\n                            </div>\n                        </div>\n                    : null}\n\n                    {formStep === 3 ?\n                        <div className=\"borrowPoolStep\">\n                            <div className=\"borrowPoolStepHint\">\n                                Collateral Asset\n                            </div>\n                            <DropdownMenu\n                                dropdownSelected={DropdownCollateral}\n                                setDropdownSelected={setDropdownCollateral}\n                                dropdownData={getSupportedTokens('collateralTokens')}\n                            />\n                            <div className=\"borrowPoolAmountArea\">\n                                <div className=\"borrowPoolAmountAreaTitle\">\n                                    Collaterization Ratio\n                                </div>\n                                <input type=\"text\" className=\"borrowPoolAmountAreaField\" placeholder=\"Enter Collaterization Ratio\" value={collaterizationRatio} onChange={e => setCollaterizationRatio(e.target.value)} />\n                                <div className=\"borrowPoolAmountAreaRight\">%</div>\n                            </div>\n                            <div className=\"borrowPoolBadge\">\n                                <div className=\"borrowPoolBadgeHint\">\n                                    Amount getting borrowed\n                                </div>\n                                <div className=\"borrowPoolBadgeValue\">\n                                    {borrowAmount} {DropdownBorrowToken.value}\n                                </div>\n                                <div className=\"borrowPoolBadgeHint\">\n                                    Collaterization Ratio\n                                </div>\n                                <div className=\"borrowPoolBadgeValue\">\n                                    {collaterizationRatio}%\n                                </div>\n                            </div>\n                            <div className=\"borrowPoolButtonsWrapper\">\n                                <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(2)}>Back</div>\n                                <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={collateralCalculate}>Next</div>\n                            </div>\n                        </div>\n                    :null}\n\n                    {formStep === 4 ?\n                        <div className=\"borrowPoolStep\">\n                            <h5 className=\"errorMessage\">{error}</h5>\n                            <div className=\"borrowPoolAmountArea\">\n                                <div className=\"borrowPoolAmountAreaTitle\">\n                                    Interest Rate\n                                </div>\n                                <input type=\"text\" className=\"borrowPoolAmountAreaField\" placeholder=\"eg. 34%\" value={interestRate} onChange={e => {setInterestRate(e.target.value);updates()}} />\n                                <div className=\"borrowPoolAmountAreaRight\">%</div>\n                            </div>\n                            <div className=\"borrowPoolAmountArea borrowPoolAmountAreaLink\">\n                                <div className=\"borrowPoolAmountAreaTitle\">\n                                    Loan Period\n                                </div>\n                                <div className=\"calendatButtonsMainWrapper\">\n                                    <div className=\"calendarButtonsNav calendarButtonsNavLeft button\">\n                                        <i className=\"fas fa-long-arrow-alt-left\"></i>\n                                    </div>\n                                    <div className=\"calendarButtonsWrapper calendarButtonsWrapper2\">\n                                        <div className={loanPeriod === '1 week' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'} onClick={() => {changeLoanPeriod('1 week');updates()}}>\n                                            1 week\n                                        </div>\n                                        <div className={loanPeriod === '2 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}  onClick={() => {changeLoanPeriod('2 weeks');updates()}}>\n                                            2 weeks\n                                        </div>\n                                        <div className={loanPeriod === '3 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}  onClick={() => {changeLoanPeriod('3 weeks');updates()}}>\n                                            3 weeks\n                                        </div>\n                                        <div className={loanPeriod === '4 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}  onClick={() => {changeLoanPeriod('4 weeks');updates()}}>\n                                            4 weeks\n                                        </div>\n                                        <div className={loanPeriod === '5 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}  onClick={() => {changeLoanPeriod('5 weeks');updates()}}>\n                                            5 weeks\n                                        </div>\n                                    </div>\n                                    <div className=\"calendarButtonsNav calendarButtonsNavRight button\">\n                                        <i className=\"fas fa-long-arrow-alt-right\"></i>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"borrowPoolAmountArea borrowPoolAmountAreaLink\">\n                                <div className=\"borrowPoolAmountAreaTitle\">\n                                Repayment Period\n                                </div>\n                                <div className=\"calendarButtonsWrapper\">\n                                    <div className={repaymentPeriod === '1 week' ? 'calendarButtonActive' : 'calendarButton'} onClick={() => {changeRepaymentPeriod('1 week');updates()}}>\n                                        1 week\n                                    </div>\n                                    <div className={repaymentPeriod === '2 weeks' ? 'calendarButtonActive' : 'calendarButton'}  onClick={() => {changeRepaymentPeriod('2 weeks');updates()}}>\n                                        2 weeks\n                                    </div>\n                                    <div className={repaymentPeriod === '4 weeks' ? 'calendarButtonActive' : 'calendarButton'}  onClick={() => {changeRepaymentPeriod('4 weeks');updates()}}>\n                                        4 weeks\n                                    </div>\n                                    <div className={repaymentPeriod === 'lone period' ? 'calendarButtonActive calendarButtonActiveLone' : 'calendarButton calendarButtonLone'}  onClick={() => {changeRepaymentPeriod('loan period');updates()}}>\n                                        End on loan period\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"borrowPoolGreyPad\">\n                                <div className=\"borrowPoolGreyPadLine\">\n                                    <div className=\"borrowPoolGreyPadLineHint\">\n                                    Collateral needed\n                                    </div>\n                                    <div className=\"borrowPoolGreyPadLineValue\">\n                                    ~ {formatNumberForDisplay(requiredCollateral)} {DropdownCollateral.value}\n                                    </div>\n                                </div>\n                                <div className=\"borrowPoolGreyPadLine\">\n                                    <div className=\"borrowPoolGreyPadLineHint\">\n                                    Loan amount requested\n                                    </div>\n                                    <div className=\"borrowPoolGreyPadLineValue\">\n                                    {borrowAmount} {DropdownBorrowToken.value}\n                                    </div>\n                                    </div>\n                                <div className=\"borrowPoolGreyPadLine\">\n                                    <div className=\"borrowPoolGreyPadLineHint\">\n                                    Total Repayment\n                                    </div>\n                                    <div className=\"borrowPoolGreyPadLineValue\">\n                                    {totalRepayment} {DropdownBorrowToken.value}\n                                    </div>\n                                </div>\n                                <div className=\"borrowPoolGreyPadLine\">\n                                    <div className=\"borrowPoolGreyPadLineHint\">\n                                    Each Instalment\n                                    </div>\n                                    <div className=\"borrowPoolGreyPadLineValue\">\n                                    {eachInstallment} {DropdownBorrowToken.value}\n                                    </div>\n                                </div>\n                                <div className=\"borrowPoolGreyPadLine\">\n                                    <div className=\"borrowPoolGreyPadLineHint\">\n                                    Total Interest\n                                    </div>\n                                    <div className=\"borrowPoolGreyPadLineValue\">\n                                    {totalInterest} {DropdownBorrowToken.value}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"borrowPoolSmallHint\">\n                            Lenders will have {collectionPeriod} to deposit liquidity in this pool\n                            </div>\n                            <div className=\"borrowPoolButtonsWrapper\">\n                            <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(3)}>Back</div>\n                                <div\n                                    className=\"borrowPoolSmallButton borrowPoolNextButton\"\n                                    onClick={() => depositTokenFunc('data')}\n                                >\n                                    {requesting ? <ActivityIndicator /> : 'Create Pool' }\n                                </div>\n                            </div>\n                        </div>\n                    : ''}\n\n                    {formStep === 5 ?\n                        <div className=\"borrowPoolStep\">\n                            <div className=\"borrowPoolNoteWrapper\">\n                                <div className=\"borrowPoolNoteTitle\">\n                                    You can add a description for the pool here\n                                </div>\n                                <textarea className=\"borrowPoolNoteTextArea\" placeholder=\"eg. funds will be used for yield farming\" value={description} onChange={e => setDescription(e.target.value)}>\n                                </textarea>\n                            </div>\n                            <div className=\"borrowPoolStepButton\" onClick={() => depositTokenFunc('data')}>\n                                Deposit token amount and create pool\n                            </div>\n                        </div>                    \n                    :null}\n                    </div>\n                </div>\n                </React.Fragment>\n                : null\n            }\n        </React.Fragment>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}