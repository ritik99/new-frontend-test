{"ast":null,"code":"import { ethers } from \"ethers\";\nimport { getConfiguredAddress } from '../utility/functions'; // const addr = \"0xEE10EBA99C5F55DbbEAFc73b4c65a4DB3F2674B7\";\n// const poolContract = require(\"../abi/pool.json\");\n// const provider = new ethers.providers.Web3Provider(window.ethereum);\n// const signer = provider.getSigner();\n\nexport async function tweetSign(from, user, setTweet) {\n  const msgParams = {\n    types: {\n      EIP712Domain: [{\n        name: 'name',\n        type: 'string'\n      }, {\n        name: 'version',\n        type: 'string'\n      }, {\n        name: 'chainId',\n        type: 'uint256'\n      }, {\n        name: 'verifyingContract',\n        type: 'address'\n      }],\n      Person: [{\n        name: 'name',\n        type: 'string'\n      }, {\n        name: 'wallet',\n        type: 'address'\n      }],\n      Mail: [{\n        name: 'from',\n        type: 'Person'\n      }, {\n        name: 'to',\n        type: 'Person'\n      }, {\n        name: 'contents',\n        type: 'string'\n      }]\n    },\n    primaryType: 'Mail',\n    domain: {\n      name: 'Ether Mail',\n      version: '1',\n      chainId: '42',\n      verifyingContract: getConfiguredAddress('verification')\n    },\n    message: {\n      sender: {\n        name: user,\n        wallet: from\n      },\n      recipient: {\n        name: 'Sublime',\n        wallet: '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB'\n      },\n      contents: 'Hello, sublime!'\n    }\n  };\n  const signature = await window.ethereum.request({\n    method: 'eth_signTypedData_v3',\n    params: [from, JSON.stringify(msgParams)]\n  });\n  console.log('signature: ' + signature);\n  setTweet(\"Please tweet :-\" + \"Verifying on Sublime @sublimefinance\" + \" \" + \"profile page\" + \" \" + \"addr:\" + from + \" \" + \"sig:\" + signature); // console.log(\"Please tweet :-\"+\"Verifying on Sublime @sublimefinance\"+\"<br>\"+\"profile page\"+\"<br>\"+\"addr:\"+from+\"<br>\"+\"sig:\"+signature)\n\n  return;\n}","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/sublime-frontend/src/contractTranscations/verificationSign.js"],"names":["ethers","getConfiguredAddress","tweetSign","from","user","setTweet","msgParams","types","EIP712Domain","name","type","Person","Mail","primaryType","domain","version","chainId","verifyingContract","message","sender","wallet","recipient","contents","signature","window","ethereum","request","method","params","JSON","stringify","console","log"],"mappings":"AAAA,SAASA,MAAT,QAAuB,QAAvB;AACA,SAASC,oBAAT,QAAqC,sBAArC,C,CAGA;AACA;AAEA;AACA;;AAIA,OAAO,eAAeC,SAAf,CAAyBC,IAAzB,EAA8BC,IAA9B,EAAmCC,QAAnC,EAA4C;AAE/C,QAAMC,SAAS,GAAG;AACdC,IAAAA,KAAK,EAAE;AACLC,MAAAA,YAAY,EAAE,CACZ;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAE;AAAtB,OADY,EAEZ;AAAED,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,IAAI,EAAE;AAAzB,OAFY,EAGZ;AAAED,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,IAAI,EAAE;AAAzB,OAHY,EAIZ;AAAED,QAAAA,IAAI,EAAE,mBAAR;AAA6BC,QAAAA,IAAI,EAAE;AAAnC,OAJY,CADT;AAOLC,MAAAA,MAAM,EAAE,CACN;AAAEF,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAE;AAAtB,OADM,EAEN;AAAED,QAAAA,IAAI,EAAE,QAAR;AAAkBC,QAAAA,IAAI,EAAE;AAAxB,OAFM,CAPH;AAWLE,MAAAA,IAAI,EAAE,CACJ;AAAEH,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,IAAI,EAAE;AAAtB,OADI,EAEJ;AAAED,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,IAAI,EAAE;AAApB,OAFI,EAGJ;AAAED,QAAAA,IAAI,EAAE,UAAR;AAAoBC,QAAAA,IAAI,EAAE;AAA1B,OAHI;AAXD,KADO;AAkBdG,IAAAA,WAAW,EAAE,MAlBC;AAmBdC,IAAAA,MAAM,EAAE;AACNL,MAAAA,IAAI,EAAE,YADA;AAENM,MAAAA,OAAO,EAAE,GAFH;AAGNC,MAAAA,OAAO,EAAE,IAHH;AAINC,MAAAA,iBAAiB,EAAEhB,oBAAoB,CAAC,cAAD;AAJjC,KAnBM;AAyBdiB,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE;AACNV,QAAAA,IAAI,EAAEL,IADA;AAENgB,QAAAA,MAAM,EAAEjB;AAFF,OADD;AAKPkB,MAAAA,SAAS,EAAE;AACTZ,QAAAA,IAAI,EAAE,SADG;AAETW,QAAAA,MAAM,EAAE;AAFC,OALJ;AASPE,MAAAA,QAAQ,EAAE;AATH;AAzBK,GAAlB;AAsCA,QAAMC,SAAS,GAAG,MAAMC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB;AAC5CC,IAAAA,MAAM,EAAE,sBADoC;AAE5CC,IAAAA,MAAM,EAAE,CAACzB,IAAD,EAAO0B,IAAI,CAACC,SAAL,CAAexB,SAAf,CAAP;AAFoC,GAAxB,CAAxB;AAIAyB,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBT,SAA5B;AAEAlB,EAAAA,QAAQ,CAAC,oBAAkB,sCAAlB,GAAyD,GAAzD,GAA6D,cAA7D,GAA4E,GAA5E,GAAgF,OAAhF,GAAwFF,IAAxF,GAA6F,GAA7F,GAAiG,MAAjG,GAAwGoB,SAAzG,CAAR,CA9C+C,CA+C/C;;AACA;AACH","sourcesContent":["import { ethers } from \"ethers\";\nimport { getConfiguredAddress } from '../utility/functions'\n\n\n// const addr = \"0xEE10EBA99C5F55DbbEAFc73b4c65a4DB3F2674B7\";\n// const poolContract = require(\"../abi/pool.json\");\n\n// const provider = new ethers.providers.Web3Provider(window.ethereum);\n// const signer = provider.getSigner();\n\n\n\nexport async function tweetSign(from,user,setTweet){\n\n    const msgParams = {\n        types: {\n          EIP712Domain: [\n            { name: 'name', type: 'string' },\n            { name: 'version', type: 'string' },\n            { name: 'chainId', type: 'uint256' },\n            { name: 'verifyingContract', type: 'address' },\n          ],\n          Person: [\n            { name: 'name', type: 'string' },\n            { name: 'wallet', type: 'address' },\n          ],\n          Mail: [\n            { name: 'from', type: 'Person' },\n            { name: 'to', type: 'Person' },\n            { name: 'contents', type: 'string' },\n          ],\n        },\n        primaryType: 'Mail',\n        domain: {\n          name: 'Ether Mail',\n          version: '1',\n          chainId: '42',\n          verifyingContract: getConfiguredAddress('verification'),\n        },\n        message: {\n          sender: {\n            name: user,\n            wallet: from,\n          },\n          recipient: {\n            name: 'Sublime',\n            wallet: '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB',\n          },\n          contents: 'Hello, sublime!',\n        },\n    }\n\n    const signature = await window.ethereum.request({\n        method: 'eth_signTypedData_v3',\n        params: [from, JSON.stringify(msgParams)],\n    })\n    console.log('signature: ' + signature);\n\n    setTweet(\"Please tweet :-\"+\"Verifying on Sublime @sublimefinance\"+\" \"+\"profile page\"+\" \"+\"addr:\"+from+\" \"+\"sig:\"+signature)\n    // console.log(\"Please tweet :-\"+\"Verifying on Sublime @sublimefinance\"+\"<br>\"+\"profile page\"+\"<br>\"+\"addr:\"+from+\"<br>\"+\"sig:\"+signature)\n    return\n}\n\n\n    \n"]},"metadata":{},"sourceType":"module"}