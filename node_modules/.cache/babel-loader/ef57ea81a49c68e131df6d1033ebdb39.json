{"ast":null,"code":"import { ethers } from 'ethers';\nexport function calculateRepayment(borrowAmount, interestRate, loanperiod, repaymentPeriod) {\n  if (interestRate == null || interestRate != parseInt(interestRate, 10)) {\n    return [0, 0, 0];\n  }\n\n  console.log(interestRate);\n  const oneDay = 24 * 60 * 60 * 1000;\n  let loanperiodInSeconds = parseInt(loanperiod.split(\" \")[0] * 7, 10);\n  let noOfRepaymentIntervals = Math.ceil(loanperiodInSeconds / parseInt(repaymentPeriod.split(\" \")[0] * 7, 10)).toString();\n  console.log(loanperiodInSeconds, noOfRepaymentIntervals); // let borrowAmount*interestRate*/100\n\n  borrowAmount = ethers.utils.parseUnits(borrowAmount);\n  let totalInterest = borrowAmount.mul(interestRate).mul(loanperiodInSeconds).div(36500);\n  let totalRepayment = borrowAmount.add(totalInterest);\n  let eachInstallment = totalInterest.div(noOfRepaymentIntervals);\n  return [ethers.utils.formatUnits(totalInterest), ethers.utils.formatUnits(totalRepayment), ethers.utils.formatUnits(eachInstallment)];\n}","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/sublime-frontend/src/utility/poolUtility.js"],"names":["ethers","calculateRepayment","borrowAmount","interestRate","loanperiod","repaymentPeriod","parseInt","console","log","oneDay","loanperiodInSeconds","split","noOfRepaymentIntervals","Math","ceil","toString","utils","parseUnits","totalInterest","mul","div","totalRepayment","add","eachInstallment","formatUnits"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,QAArB;AAEA,OAAO,SAASC,kBAAT,CAA4BC,YAA5B,EAA0CC,YAA1C,EAAwDC,UAAxD,EAAoEC,eAApE,EAAoF;AAEvF,MAAGF,YAAY,IAAI,IAAhB,IAAwBA,YAAY,IAAIG,QAAQ,CAACH,YAAD,EAAe,EAAf,CAAnD,EAAsE;AACpE,WAAO,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAP;AACD;;AACDI,EAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACA,QAAMM,MAAM,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,IAA9B;AACA,MAAIC,mBAAmB,GAAGJ,QAAQ,CAAEF,UAAU,CAACO,KAAX,CAAiB,GAAjB,CAAD,CAAwB,CAAxB,IAA2B,CAA5B,EAA8B,EAA9B,CAAlC;AACA,MAAIC,sBAAsB,GAAGC,IAAI,CAACC,IAAL,CAAUJ,mBAAmB,GAACJ,QAAQ,CAAED,eAAe,CAACM,KAAhB,CAAsB,GAAtB,CAAD,CAA6B,CAA7B,IAAgC,CAAjC,EAAmC,EAAnC,CAAtC,EAA8EI,QAA9E,EAA7B;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYE,mBAAZ,EAAiCE,sBAAjC,EATuF,CAUvF;;AACAV,EAAAA,YAAY,GAAGF,MAAM,CAACgB,KAAP,CAAaC,UAAb,CAAwBf,YAAxB,CAAf;AACA,MAAIgB,aAAa,GAAGhB,YAAY,CAACiB,GAAb,CAAiBhB,YAAjB,EAA+BgB,GAA/B,CAAmCT,mBAAnC,EAAwDU,GAAxD,CAA4D,KAA5D,CAApB;AACA,MAAIC,cAAc,GAAGnB,YAAY,CAACoB,GAAb,CAAiBJ,aAAjB,CAArB;AACA,MAAIK,eAAe,GAAGL,aAAa,CAACE,GAAd,CAAkBR,sBAAlB,CAAtB;AACA,SAAO,CAACZ,MAAM,CAACgB,KAAP,CAAaQ,WAAb,CAAyBN,aAAzB,CAAD,EAAyClB,MAAM,CAACgB,KAAP,CAAaQ,WAAb,CAAyBH,cAAzB,CAAzC,EAAkFrB,MAAM,CAACgB,KAAP,CAAaQ,WAAb,CAAyBD,eAAzB,CAAlF,CAAP;AACD","sourcesContent":["import {ethers} from 'ethers'\n\nexport function calculateRepayment(borrowAmount, interestRate, loanperiod, repaymentPeriod){\n\n    if(interestRate == null || interestRate != parseInt(interestRate, 10)){\n      return [0,0,0]\n    }\n    console.log(interestRate)\n    const oneDay = 24 * 60 * 60 * 1000;\n    let loanperiodInSeconds = parseInt((loanperiod.split(\" \"))[0]*7,10)\n    let noOfRepaymentIntervals = Math.ceil(loanperiodInSeconds/parseInt((repaymentPeriod.split(\" \"))[0]*7,10)).toString()\n    console.log(loanperiodInSeconds, noOfRepaymentIntervals)\n    // let borrowAmount*interestRate*/100\n    borrowAmount = ethers.utils.parseUnits(borrowAmount)\n    let totalInterest = borrowAmount.mul(interestRate).mul(loanperiodInSeconds).div(36500)\n    let totalRepayment = borrowAmount.add(totalInterest)\n    let eachInstallment = totalInterest.div(noOfRepaymentIntervals)\n    return [ethers.utils.formatUnits(totalInterest),ethers.utils.formatUnits(totalRepayment),ethers.utils.formatUnits(eachInstallment)]\n  }"]},"metadata":{},"sourceType":"module"}