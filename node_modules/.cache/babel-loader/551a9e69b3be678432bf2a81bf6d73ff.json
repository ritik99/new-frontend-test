{"ast":null,"code":"import request from 'request';\nimport { getSymbol } from './../../utility/symbol';\nimport { getLoanStartDay, countdown } from './../../utility/time';\nexport function getPoolConstants(variable, setter) {\n  const data = JSON.stringify({\n    query: ` {\n            globalPoolDetails {\n               ${variable}\n            }\n            }\n          `\n  });\n  var options = {\n    method: 'POST',\n    url: 'https://api.thegraph.com/subgraphs/name/sublime-finance/sublime',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: data\n  };\n  request(options, async function (error, response) {\n    if (error) throw new Error(error);\n    var body = JSON.parse(response.body);\n\n    if (body) {\n      if (body.data && body.data.globalPoolDetails) {\n        setter(countdown(body.data.globalPoolDetails[0].collectionPeriod));\n      }\n    }\n  });\n}","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/SUBLIME/sublime-frontend/src/query/poolFactory/getConstants.js"],"names":["request","getSymbol","getLoanStartDay","countdown","getPoolConstants","variable","setter","data","JSON","stringify","query","options","method","url","headers","body","error","response","Error","parse","globalPoolDetails","collectionPeriod"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,SAASC,eAAT,EAA0BC,SAA1B,QAA2C,sBAA3C;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAoCC,MAApC,EAA4C;AACjD,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC1BC,IAAAA,KAAK,EAAG;AACZ;AACA,iBAAiBL,QAAS;AAC1B;AACA;AACA;AAN8B,GAAf,CAAb;AAQA,MAAIM,OAAO,GAAG;AACZC,IAAAA,MAAM,EAAE,MADI;AAEZC,IAAAA,GAAG,EAAE,iEAFO;AAGZC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAHG;AAIZC,IAAAA,IAAI,EAAER;AAJM,GAAd;AAOAP,EAAAA,OAAO,CAACW,OAAD,EAAU,gBAAgBK,KAAhB,EAAuBC,QAAvB,EAAiC;AAChD,QAAID,KAAJ,EAAW,MAAM,IAAIE,KAAJ,CAAUF,KAAV,CAAN;AACX,QAAID,IAAI,GAAGP,IAAI,CAACW,KAAL,CAAWF,QAAQ,CAACF,IAApB,CAAX;;AAEA,QAAIA,IAAJ,EAAU;AACR,UAAIA,IAAI,CAACR,IAAL,IAAaQ,IAAI,CAACR,IAAL,CAAUa,iBAA3B,EAA8C;AAC5Cd,QAAAA,MAAM,CAACH,SAAS,CAACY,IAAI,CAACR,IAAL,CAAUa,iBAAV,CAA4B,CAA5B,EAA+BC,gBAAhC,CAAV,CAAN;AACD;AACF;AACF,GATM,CAAP;AAUD","sourcesContent":["import request from 'request';\nimport { getSymbol } from './../../utility/symbol';\n\nimport { getLoanStartDay, countdown } from './../../utility/time';\n\nexport function getPoolConstants(variable, setter) {\n  const data = JSON.stringify({\n    query: ` {\n            globalPoolDetails {\n               ${variable}\n            }\n            }\n          `,\n  });\n  var options = {\n    method: 'POST',\n    url: 'https://api.thegraph.com/subgraphs/name/sublime-finance/sublime',\n    headers: { 'Content-Type': 'application/json' },\n    body: data,\n  };\n\n  request(options, async function (error, response) {\n    if (error) throw new Error(error);\n    var body = JSON.parse(response.body);\n\n    if (body) {\n      if (body.data && body.data.globalPoolDetails) {\n        setter(countdown(body.data.globalPoolDetails[0].collectionPeriod));\n      }\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}