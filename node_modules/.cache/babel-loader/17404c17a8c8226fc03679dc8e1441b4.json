{"ast":null,"code":"var _jsxFileName = \"/Users/ritikdutta/Desktop/SUBLIME/sublime-frontend/src/components/uiElements/CreateBorrowPoolModal/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport dai from './images/dai.png';\nimport compound from './images/compound.png';\nimport '@hassanmojab/react-modern-calendar-datepicker/lib/DatePicker.css';\nimport { Calendar, utils } from '@hassanmojab/react-modern-calendar-datepicker';\nimport './style.css';\nimport DropdownMenu from '../DropdownMenu';\nimport request from 'request';\nimport { ethers } from 'ethers';\nimport { requestCreditLineLender } from './../../../contractTranscations/creditLine/creditLineRequest';\nimport { borrowPools } from './../../../query/pool/borrowingPools';\nimport { getTotalBorrowedAmount, getBorrowRate } from './../../../utility/dashboard';\nimport { createOpenBorrowPool } from '../../../contractTranscations/pool/createOpenBorrowPool';\nimport { getConfiguredAddress, getSupportedTokens } from '../../../utility/functions';\nimport { getRequiredCollateralAmount } from '../../../query/pool/requiredCollateral';\nimport { calculateRepayment } from '../../../utility/poolUtility';\nimport { useEffect } from 'react';\nimport { getPoolConstants } from '../../../query/poolFactory/getConstants';\nimport ActivityIndicator from '../ActivityIndicator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst addr = getConfiguredAddress('poolFactory');\n\nconst poolContract = require('../../../abi/poolFactory.json');\n\nexport default function CreateBorrowPoolModal({\n  showModal,\n  openModal,\n  onPoolCreated\n}) {\n  _s();\n\n  const history = useHistory();\n  const icon = dai;\n  const icon2 = compound;\n  const [error, setError] = useState('');\n  const [requesting, setRequesting] = useState(false);\n  const [totalInterest, setTotalInterest] = useState(0);\n  const [totalRepayment, setTotalRepayment] = useState(0);\n  const [eachInstallment, setEachInstallment] = useState(0);\n  const [collectionPeriod, setCollectionPeriod] = useState();\n\n  const onResponseCalback = response => {\n    if (response.error) {\n      setError(response.message);\n    } else if (response.success) {\n      openModal();\n      setFormStep(1);\n      onPoolCreated();\n    }\n\n    setRequesting(false);\n  };\n\n  const depositTokenFunc = async data => {\n    setError('');\n    setRequesting(true);\n    let borrowToken = DropdownBorrowToken.address;\n    let CollateralToken = DropdownCollateral.address;\n    const depositData = {\n      borrowAmount,\n      borrowToken,\n      CollateralToken,\n      collaterizationRatio,\n      interestRate,\n      loanPeriod,\n      repaymentPeriod,\n      description,\n      requiredCollateral\n    };\n    createOpenBorrowPool(depositData, onResponseCalback);\n  };\n\n  function CollateralCalculate() {\n    let borrowToken = DropdownBorrowToken.value;\n    let CollateralToken = DropdownCollateral.value;\n    getRequiredCollateralAmount(borrowToken, CollateralToken, setRequiredCollateral, borrowAmount, collaterizationRatio);\n    getPoolConstants('collectionPeriod', setCollectionPeriod);\n    setStep(4);\n  }\n\n  function updates() {\n    let [totalInterest, totalRepayment, eachInstallment] = calculateRepayment(borrowAmount, interestRate, loanPeriod, repaymentPeriod); // setRepaymentData(result)\n\n    setTotalInterest(totalInterest);\n    setTotalRepayment(totalRepayment);\n    setEachInstallment(eachInstallment);\n  }\n\n  const [DropdownBorrowToken, setDropdownBorrowToken] = useState('');\n  const [DropdownCollateral, setDropdownCollateral] = useState('');\n  const [requiredCollateral, setRequiredCollateral] = useState('calculating...'); // const dropdownData = [\n  //     {\n  //         value: 'ETH',\n  //         icon: 'https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/256/Ethereum-ETH-icon.png'\n  //     },\n  //     {\n  //         value: 'USDC',\n  //         icon: 'https://messari.io/asset-images/4515ba15-2719-4183-b0ca-b9255d55b67e/128.png?v=2'\n  //     },\n  // ]\n  // const [dropdownSelected, setDropdownSelected] = useState(dropdownData[0])\n  // const [dropdownSelected2, setDropdownSelected2] = useState(dropdownData[0])\n\n  const [formStep, setFormStep] = useState(1);\n\n  const setStep = index => {\n    setError('');\n    setFormStep(index);\n  };\n\n  const [selectedDayRange, setSelectedDayRange] = useState({\n    from: null,\n    to: null\n  });\n  const [showCalendar, setshowCalendar] = useState(false);\n\n  const openCalendar = () => {\n    setshowCalendar(prev => !prev);\n  };\n\n  const [repaymentPeriod, setRepaymentPeriod] = useState('1 week');\n  const [loanPeriod, setLoanPeriod] = useState('1 week');\n\n  const changeLoanPeriod = index => {\n    setLoanPeriod(index);\n  };\n\n  const changeRepaymentPeriod = index => {\n    setRepaymentPeriod(index);\n  };\n\n  const [borrowAmount, setBorrowAmount] = useState('');\n  const [borrowAsset, setborrowAsset] = useState('dai');\n  const [collateralAsset, setcollateralAsset] = useState('compound 1');\n  const [collaterizationRatio, setCollaterizationRatio] = useState('');\n  const [interestRate, setInterestRate] = useState('');\n  const [description, setDescription] = useState('');\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: showModal ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageModalOverlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"borrowPoolWindow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolWindowHeader\",\n            children: [\"Create an Open Borrow Pool\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolWindowHeaderButton\",\n              onClick: openModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), formStep === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepTitle1\",\n              children: \"The Open Borrow Pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepTitle2\",\n              children: \"Sublime lets borrowers create their own individual loan pools that are open to everyone.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepParagraph\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the pool size & tokens supported\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the interest rate you are offering - fixed or variable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Set the time period - fixed or indefinite terms, repayment schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Decide the collateral amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepButton\",\n              onClick: () => setStep(2),\n              children: \"Create Open Borrow Pool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this) : null, formStep === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"Enter the Amount\",\n                onChange: e => setBorrowAmount(e.target.value),\n                value: borrowAmount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              dropdownSelected: DropdownBorrowToken,\n              setDropdownSelected: setDropdownBorrowToken,\n              dropdownData: getSupportedTokens('borrowTokens')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(1),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: () => setStep(3),\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this) : null, formStep === 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolStepHint\",\n              children: \"Collateral Asset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              dropdownSelected: DropdownCollateral,\n              setDropdownSelected: setDropdownCollateral,\n              dropdownData: getSupportedTokens('collateralTokens')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Collaterization Ratio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"Enter Collaterization Ratio\",\n                value: collaterizationRatio,\n                onChange: e => setCollaterizationRatio(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaRight\",\n                children: \"%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(2),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: CollateralCalculate,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 17\n          }, this) : null, formStep === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"errorMessage\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Interest Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"borrowPoolAmountAreaField\",\n                placeholder: \"eg. 34%\",\n                value: interestRate,\n                onChange: e => {\n                  setInterestRate(e.target.value);\n                  updates();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaRight\",\n                children: \"%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea borrowPoolAmountAreaLink\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Loan Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendatButtonsMainWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsNav calendarButtonsNavLeft button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-long-arrow-alt-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsWrapper calendarButtonsWrapper2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '1 week' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('1 week');\n                      updates();\n                    },\n                    children: \"1 week\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '2 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('2 weeks');\n                      updates();\n                    },\n                    children: \"2 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '3 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('3 weeks');\n                      updates();\n                    },\n                    children: \"3 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '4 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('4 weeks');\n                      updates();\n                    },\n                    children: \"4 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: loanPeriod === '5 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2',\n                    onClick: () => {\n                      changeLoanPeriod('5 weeks');\n                      updates();\n                    },\n                    children: \"5 weeks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendarButtonsNav calendarButtonsNavRight button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-long-arrow-alt-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolAmountArea borrowPoolAmountAreaLink\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolAmountAreaTitle\",\n                children: \"Repayment Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendarButtonsWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '1 week' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('1 week');\n                    updates();\n                  },\n                  children: \"1 week\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '2 weeks' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('2 weeks');\n                    updates();\n                  },\n                  children: \"2 weeks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === '4 weeks' ? 'calendarButtonActive' : 'calendarButton',\n                  onClick: () => {\n                    changeRepaymentPeriod('4 weeks');\n                    updates();\n                  },\n                  children: \"4 weeks\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: repaymentPeriod === 'lone period' ? 'calendarButtonActive calendarButtonActiveLone' : 'calendarButton calendarButtonLone',\n                  onClick: () => {\n                    changeRepaymentPeriod('loan period');\n                    updates();\n                  },\n                  children: \"End on loan period\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolSmallHint\",\n              children: [\"Lenders will have \", collectionPeriod, \" to deposit liquidity in this pool\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(3),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: () => setStep(5),\n                children: requesting ? /*#__PURE__*/_jsxDEV(ActivityIndicator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 37\n                }, this) : 'Next'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this) : '', formStep === 5 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"borrowPoolStep\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolBadge\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeHint\",\n                children: \"Amount getting borrowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeValue\",\n                children: [borrowAmount, \" \", DropdownBorrowToken.value]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeHint\",\n                children: \"Collaterization Ratio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolBadgeValue\",\n                children: [collaterizationRatio, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolGreyPad\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Collateral needed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [Number(requiredCollateral).toFixed(2), \" \", DropdownCollateral.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Loan amount requested\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [Number(borrowAmount).toFixed(2), \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Total Repayment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [Number(totalRepayment).toFixed(2), \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Each Instalment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [Number(eachInstallment).toFixed(2), \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolGreyPadLine\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineHint\",\n                  children: \"Total Interest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"borrowPoolGreyPadLineValue\",\n                  children: [Number(totalInterest).toFixed(2), \" \", DropdownBorrowToken.value]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"borrowPoolButtonsWrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolBackButton\",\n                onClick: () => setStep(4),\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"borrowPoolSmallButton borrowPoolNextButton\",\n                onClick: () => depositTokenFunc('data'),\n                children: requesting ? /*#__PURE__*/_jsxDEV(ActivityIndicator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 37\n                }, this) : 'Create Pool'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateBorrowPoolModal, \"19/NiSJ2iUCzo2Uw6xzL0ml73Nk=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateBorrowPoolModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateBorrowPoolModal\");","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/SUBLIME/sublime-frontend/src/components/uiElements/CreateBorrowPoolModal/index.js"],"names":["React","useState","useHistory","dai","compound","Calendar","utils","DropdownMenu","request","ethers","requestCreditLineLender","borrowPools","getTotalBorrowedAmount","getBorrowRate","createOpenBorrowPool","getConfiguredAddress","getSupportedTokens","getRequiredCollateralAmount","calculateRepayment","useEffect","getPoolConstants","ActivityIndicator","addr","poolContract","require","CreateBorrowPoolModal","showModal","openModal","onPoolCreated","history","icon","icon2","error","setError","requesting","setRequesting","totalInterest","setTotalInterest","totalRepayment","setTotalRepayment","eachInstallment","setEachInstallment","collectionPeriod","setCollectionPeriod","onResponseCalback","response","message","success","setFormStep","depositTokenFunc","data","borrowToken","DropdownBorrowToken","address","CollateralToken","DropdownCollateral","depositData","borrowAmount","collaterizationRatio","interestRate","loanPeriod","repaymentPeriod","description","requiredCollateral","CollateralCalculate","value","setRequiredCollateral","setStep","updates","setDropdownBorrowToken","setDropdownCollateral","formStep","index","selectedDayRange","setSelectedDayRange","from","to","showCalendar","setshowCalendar","openCalendar","prev","setRepaymentPeriod","setLoanPeriod","changeLoanPeriod","changeRepaymentPeriod","setBorrowAmount","borrowAsset","setborrowAsset","collateralAsset","setcollateralAsset","setCollaterizationRatio","setInterestRate","setDescription","e","target","Number","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n\nimport { useHistory } from 'react-router-dom';\nimport dai from './images/dai.png';\nimport compound from './images/compound.png';\nimport '@hassanmojab/react-modern-calendar-datepicker/lib/DatePicker.css';\nimport { Calendar, utils } from '@hassanmojab/react-modern-calendar-datepicker';\nimport './style.css';\nimport DropdownMenu from '../DropdownMenu';\nimport request from 'request';\nimport { ethers } from 'ethers';\nimport { requestCreditLineLender } from './../../../contractTranscations/creditLine/creditLineRequest';\nimport { borrowPools } from './../../../query/pool/borrowingPools';\nimport { getTotalBorrowedAmount, getBorrowRate } from './../../../utility/dashboard';\n\nimport { createOpenBorrowPool } from '../../../contractTranscations/pool/createOpenBorrowPool';\nimport { getConfiguredAddress, getSupportedTokens } from '../../../utility/functions';\nimport { getRequiredCollateralAmount } from '../../../query/pool/requiredCollateral';\nimport { calculateRepayment } from '../../../utility/poolUtility';\nimport { useEffect } from 'react';\nimport { getPoolConstants } from '../../../query/poolFactory/getConstants';\nimport ActivityIndicator from '../ActivityIndicator';\n\nconst addr = getConfiguredAddress('poolFactory');\nconst poolContract = require('../../../abi/poolFactory.json');\n\nexport default function CreateBorrowPoolModal({ showModal, openModal, onPoolCreated }) {\n  const history = useHistory();\n\n  const icon = dai;\n  const icon2 = compound;\n\n  const [error, setError] = useState('');\n  const [requesting, setRequesting] = useState(false);\n  const [totalInterest, setTotalInterest] = useState(0);\n  const [totalRepayment, setTotalRepayment] = useState(0);\n  const [eachInstallment, setEachInstallment] = useState(0);\n  const [collectionPeriod, setCollectionPeriod] = useState();\n\n  const onResponseCalback = (response) => {\n    if (response.error) {\n      setError(response.message);\n    } else if (response.success) {\n      openModal();\n      setFormStep(1);\n      onPoolCreated();\n    }\n\n    setRequesting(false);\n  };\n\n  const depositTokenFunc = async (data) => {\n    setError('');\n    setRequesting(true);\n    let borrowToken = DropdownBorrowToken.address;\n    let CollateralToken = DropdownCollateral.address;\n\n    const depositData = {\n      borrowAmount,\n      borrowToken,\n      CollateralToken,\n      collaterizationRatio,\n      interestRate,\n      loanPeriod,\n      repaymentPeriod,\n      description,\n      requiredCollateral,\n    };\n    createOpenBorrowPool(depositData, onResponseCalback);\n  };\n\n  function CollateralCalculate() {\n    let borrowToken = DropdownBorrowToken.value;\n    let CollateralToken = DropdownCollateral.value;\n\n    getRequiredCollateralAmount(borrowToken, CollateralToken, setRequiredCollateral, borrowAmount, collaterizationRatio);\n    getPoolConstants('collectionPeriod', setCollectionPeriod);\n    setStep(4);\n  }\n\n  function updates() {\n    let [totalInterest, totalRepayment, eachInstallment] = calculateRepayment(borrowAmount, interestRate, loanPeriod, repaymentPeriod);\n    // setRepaymentData(result)\n    setTotalInterest(totalInterest);\n    setTotalRepayment(totalRepayment);\n    setEachInstallment(eachInstallment);\n  }\n\n  const [DropdownBorrowToken, setDropdownBorrowToken] = useState('');\n  const [DropdownCollateral, setDropdownCollateral] = useState('');\n  const [requiredCollateral, setRequiredCollateral] = useState('calculating...');\n\n  // const dropdownData = [\n  //     {\n  //         value: 'ETH',\n  //         icon: 'https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/256/Ethereum-ETH-icon.png'\n  //     },\n  //     {\n  //         value: 'USDC',\n  //         icon: 'https://messari.io/asset-images/4515ba15-2719-4183-b0ca-b9255d55b67e/128.png?v=2'\n  //     },\n  // ]\n\n  // const [dropdownSelected, setDropdownSelected] = useState(dropdownData[0])\n  // const [dropdownSelected2, setDropdownSelected2] = useState(dropdownData[0])\n\n  const [formStep, setFormStep] = useState(1);\n\n  const setStep = (index) => {\n    setError('');\n    setFormStep(index);\n  };\n\n  const [selectedDayRange, setSelectedDayRange] = useState({\n    from: null,\n    to: null,\n  });\n\n  const [showCalendar, setshowCalendar] = useState(false);\n\n  const openCalendar = () => {\n    setshowCalendar((prev) => !prev);\n  };\n\n  const [repaymentPeriod, setRepaymentPeriod] = useState('1 week');\n  const [loanPeriod, setLoanPeriod] = useState('1 week');\n\n  const changeLoanPeriod = (index) => {\n    setLoanPeriod(index);\n  };\n\n  const changeRepaymentPeriod = (index) => {\n    setRepaymentPeriod(index);\n  };\n\n  const [borrowAmount, setBorrowAmount] = useState('');\n  const [borrowAsset, setborrowAsset] = useState('dai');\n  const [collateralAsset, setcollateralAsset] = useState('compound 1');\n  const [collaterizationRatio, setCollaterizationRatio] = useState('');\n  const [interestRate, setInterestRate] = useState('');\n  const [description, setDescription] = useState('');\n\n  return (\n    <React.Fragment>\n      {showModal ? (\n        <React.Fragment>\n          <div className=\"pageModalOverlay\">\n            <div className=\"borrowPoolWindow\">\n              <div className=\"borrowPoolWindowHeader\">\n                Create an Open Borrow Pool\n                <div className=\"borrowPoolWindowHeaderButton\" onClick={openModal}></div>\n              </div>\n              {formStep === 1 ? (\n                <div className=\"borrowPoolStep\">\n                  <div className=\"borrowPoolStepTitle1\">The Open Borrow Pool</div>\n                  <div className=\"borrowPoolStepTitle2\">Sublime lets borrowers create their own individual loan pools that are open to everyone.</div>\n                  <div className=\"borrowPoolStepParagraph\">\n                    <ul>\n                      <li>Set the pool size & tokens supported</li>\n                      <li>Set the interest rate you are offering - fixed or variable</li>\n                      <li>Set the time period - fixed or indefinite terms, repayment schedule</li>\n                      <li>Decide the collateral amount</li>\n                    </ul>\n                  </div>\n\n                  <div className=\"borrowPoolStepButton\" onClick={() => setStep(2)}>\n                    Create Open Borrow Pool\n                  </div>\n                </div>\n              ) : null}\n\n              {formStep === 2 ? (\n                <div className=\"borrowPoolStep\">\n                  <div className=\"borrowPoolAmountArea\">\n                    <div className=\"borrowPoolAmountAreaTitle\">Amount</div>\n                    <input\n                      type=\"text\"\n                      className=\"borrowPoolAmountAreaField\"\n                      placeholder=\"Enter the Amount\"\n                      onChange={(e) => setBorrowAmount(e.target.value)}\n                      value={borrowAmount}\n                    />\n                  </div>\n                  <DropdownMenu\n                    dropdownSelected={DropdownBorrowToken}\n                    setDropdownSelected={setDropdownBorrowToken}\n                    dropdownData={getSupportedTokens('borrowTokens')}\n                  />\n                  <div className=\"borrowPoolButtonsWrapper\">\n                    <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(1)}>\n                      Back\n                    </div>\n                    <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={() => setStep(3)}>\n                      Next\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n\n              {formStep === 3 ? (\n                <div className=\"borrowPoolStep\">\n                  <div className=\"borrowPoolStepHint\">Collateral Asset</div>\n                  <DropdownMenu\n                    dropdownSelected={DropdownCollateral}\n                    setDropdownSelected={setDropdownCollateral}\n                    dropdownData={getSupportedTokens('collateralTokens')}\n                  />\n                  <div className=\"borrowPoolAmountArea\">\n                    <div className=\"borrowPoolAmountAreaTitle\">Collaterization Ratio</div>\n                    <input\n                      type=\"text\"\n                      className=\"borrowPoolAmountAreaField\"\n                      placeholder=\"Enter Collaterization Ratio\"\n                      value={collaterizationRatio}\n                      onChange={(e) => setCollaterizationRatio(e.target.value)}\n                    />\n                    <div className=\"borrowPoolAmountAreaRight\">%</div>\n                  </div>\n                  <div className=\"borrowPoolButtonsWrapper\">\n                    <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(2)}>\n                      Back\n                    </div>\n                    <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={CollateralCalculate}>\n                      Next\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n\n              {formStep === 4 ? (\n                <div className=\"borrowPoolStep\">\n                  <h5 className=\"errorMessage\">{error}</h5>\n                  <div className=\"borrowPoolAmountArea\">\n                    <div className=\"borrowPoolAmountAreaTitle\">Interest Rate</div>\n                    <input\n                      type=\"text\"\n                      className=\"borrowPoolAmountAreaField\"\n                      placeholder=\"eg. 34%\"\n                      value={interestRate}\n                      onChange={(e) => {\n                        setInterestRate(e.target.value);\n                        updates();\n                      }}\n                    />\n                    <div className=\"borrowPoolAmountAreaRight\">%</div>\n                  </div>\n                  <div className=\"borrowPoolAmountArea borrowPoolAmountAreaLink\">\n                    <div className=\"borrowPoolAmountAreaTitle\">Loan Period</div>\n                    <div className=\"calendatButtonsMainWrapper\">\n                      <div className=\"calendarButtonsNav calendarButtonsNavLeft button\">\n                        <i className=\"fas fa-long-arrow-alt-left\"></i>\n                      </div>\n                      <div className=\"calendarButtonsWrapper calendarButtonsWrapper2\">\n                        <div\n                          className={loanPeriod === '1 week' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}\n                          onClick={() => {\n                            changeLoanPeriod('1 week');\n                            updates();\n                          }}\n                        >\n                          1 week\n                        </div>\n                        <div\n                          className={loanPeriod === '2 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}\n                          onClick={() => {\n                            changeLoanPeriod('2 weeks');\n                            updates();\n                          }}\n                        >\n                          2 weeks\n                        </div>\n                        <div\n                          className={loanPeriod === '3 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}\n                          onClick={() => {\n                            changeLoanPeriod('3 weeks');\n                            updates();\n                          }}\n                        >\n                          3 weeks\n                        </div>\n                        <div\n                          className={loanPeriod === '4 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}\n                          onClick={() => {\n                            changeLoanPeriod('4 weeks');\n                            updates();\n                          }}\n                        >\n                          4 weeks\n                        </div>\n                        <div\n                          className={loanPeriod === '5 weeks' ? 'calendarButtonActive calendarButtonActive2' : 'calendarButton calendarButton2'}\n                          onClick={() => {\n                            changeLoanPeriod('5 weeks');\n                            updates();\n                          }}\n                        >\n                          5 weeks\n                        </div>\n                      </div>\n                      <div className=\"calendarButtonsNav calendarButtonsNavRight button\">\n                        <i className=\"fas fa-long-arrow-alt-right\"></i>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"borrowPoolAmountArea borrowPoolAmountAreaLink\">\n                    <div className=\"borrowPoolAmountAreaTitle\">Repayment Period</div>\n                    <div className=\"calendarButtonsWrapper\">\n                      <div\n                        className={repaymentPeriod === '1 week' ? 'calendarButtonActive' : 'calendarButton'}\n                        onClick={() => {\n                          changeRepaymentPeriod('1 week');\n                          updates();\n                        }}\n                      >\n                        1 week\n                      </div>\n                      <div\n                        className={repaymentPeriod === '2 weeks' ? 'calendarButtonActive' : 'calendarButton'}\n                        onClick={() => {\n                          changeRepaymentPeriod('2 weeks');\n                          updates();\n                        }}\n                      >\n                        2 weeks\n                      </div>\n                      <div\n                        className={repaymentPeriod === '4 weeks' ? 'calendarButtonActive' : 'calendarButton'}\n                        onClick={() => {\n                          changeRepaymentPeriod('4 weeks');\n                          updates();\n                        }}\n                      >\n                        4 weeks\n                      </div>\n                      <div\n                        className={\n                          repaymentPeriod === 'lone period' ? 'calendarButtonActive calendarButtonActiveLone' : 'calendarButton calendarButtonLone'\n                        }\n                        onClick={() => {\n                          changeRepaymentPeriod('loan period');\n                          updates();\n                        }}\n                      >\n                        End on loan period\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"borrowPoolSmallHint\">Lenders will have {collectionPeriod} to deposit liquidity in this pool</div>\n                  <div className=\"borrowPoolButtonsWrapper\">\n                    <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(3)}>\n                      Back\n                    </div>\n                    <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={() => setStep(5)}>\n                      {requesting ? <ActivityIndicator /> : 'Next'}\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                ''\n              )}\n\n              {formStep === 5 ? (\n                <div className=\"borrowPoolStep\">\n                  <div className=\"borrowPoolBadge\">\n                    <div className=\"borrowPoolBadgeHint\">Amount getting borrowed</div>\n                    <div className=\"borrowPoolBadgeValue\">\n                      {borrowAmount} {DropdownBorrowToken.value}\n                    </div>\n                    <div className=\"borrowPoolBadgeHint\">Collaterization Ratio</div>\n                    <div className=\"borrowPoolBadgeValue\">{collaterizationRatio}%</div>\n                  </div>\n\n                  <div className=\"borrowPoolGreyPad\">\n                    <div className=\"borrowPoolGreyPadLine\">\n                      <div className=\"borrowPoolGreyPadLineHint\">Collateral needed</div>\n                      <div className=\"borrowPoolGreyPadLineValue\">\n                        {Number(requiredCollateral).toFixed(2)} {DropdownCollateral.value}\n                      </div>\n                    </div>\n                    <div className=\"borrowPoolGreyPadLine\">\n                      <div className=\"borrowPoolGreyPadLineHint\">Loan amount requested</div>\n                      <div className=\"borrowPoolGreyPadLineValue\">\n                        {Number(borrowAmount).toFixed(2)} {DropdownBorrowToken.value}\n                      </div>\n                    </div>\n                    <div className=\"borrowPoolGreyPadLine\">\n                      <div className=\"borrowPoolGreyPadLineHint\">Total Repayment</div>\n                      <div className=\"borrowPoolGreyPadLineValue\">\n                        {Number(totalRepayment).toFixed(2)} {DropdownBorrowToken.value}\n                      </div>\n                    </div>\n                    <div className=\"borrowPoolGreyPadLine\">\n                      <div className=\"borrowPoolGreyPadLineHint\">Each Instalment</div>\n                      <div className=\"borrowPoolGreyPadLineValue\">\n                        {Number(eachInstallment).toFixed(2)} {DropdownBorrowToken.value}\n                      </div>\n                    </div>\n                    <div className=\"borrowPoolGreyPadLine\">\n                      <div className=\"borrowPoolGreyPadLineHint\">Total Interest</div>\n                      <div className=\"borrowPoolGreyPadLineValue\">\n                        {Number(totalInterest).toFixed(2)} {DropdownBorrowToken.value}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"borrowPoolButtonsWrapper\">\n                    <div className=\"borrowPoolSmallButton borrowPoolBackButton\" onClick={() => setStep(4)}>\n                      Back\n                    </div>\n                    <div className=\"borrowPoolSmallButton borrowPoolNextButton\" onClick={() => depositTokenFunc('data')}>\n                      {requesting ? <ActivityIndicator /> : 'Create Pool'}\n                    </div>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </React.Fragment>\n      ) : null}\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}