{"ast":null,"code":"import request from 'request';\nimport { SUBGRAPH_API_URL } from '../../utility/constants';\nexport const getGlobalPoolDetail = async (onSuccess, onErrorCallback) => {\n  let result;\n  const data = JSON.stringify({\n    query: `{\n            globalPoolDetails {\n              collectionPeriod\n              matchCollateralRatioInterval\n            }\n        }`\n  });\n  var options = {\n    method: 'POST',\n    url: SUBGRAPH_API_URL,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: data\n  };\n  result = await request(options, async function (error, response) {\n    if (error) {\n      onErrorCallback({\n        error: true,\n        message: error.message\n      });\n      throw new Error(error);\n    }\n\n    var body = JSON.parse(response.body);\n\n    if (body) {\n      if (body.data) {\n        if (body.data.globalPoolDetails && body.data.globalPoolDetails.length > 0) {\n          onSuccess(body.data.globalPoolDetails[0]);\n        }\n      } else if (body.errors) {\n        onErrorCallback({\n          error: true,\n          message: body.errors[0].message\n        });\n      }\n    } else {\n      onErrorCallback({\n        error: true,\n        message: 'No pool detail available.'\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/Users/ritikdutta/Desktop/SUBLIME/sublime-frontend/src/query/pool/globalPoolDetails.js"],"names":["request","SUBGRAPH_API_URL","getGlobalPoolDetail","onSuccess","onErrorCallback","result","data","JSON","stringify","query","options","method","url","headers","body","error","response","message","Error","parse","globalPoolDetails","length","errors"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AAEA,OAAO,MAAMC,mBAAmB,GAAG,OAAOC,SAAP,EAAkBC,eAAlB,KAAsC;AACvE,MAAIC,MAAJ;AAEA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC1BC,IAAAA,KAAK,EAAG;AACZ;AACA;AACA;AACA;AACA;AAN8B,GAAf,CAAb;AASA,MAAIC,OAAO,GAAG;AACZC,IAAAA,MAAM,EAAE,MADI;AAEZC,IAAAA,GAAG,EAAEX,gBAFO;AAGZY,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAHG;AAIZC,IAAAA,IAAI,EAAER;AAJM,GAAd;AAOAD,EAAAA,MAAM,GAAG,MAAML,OAAO,CAACU,OAAD,EAAU,gBAAgBK,KAAhB,EAAuBC,QAAvB,EAAiC;AAC/D,QAAID,KAAJ,EAAW;AACTX,MAAAA,eAAe,CAAC;AAAEW,QAAAA,KAAK,EAAE,IAAT;AAAeE,QAAAA,OAAO,EAAEF,KAAK,CAACE;AAA9B,OAAD,CAAf;AACA,YAAM,IAAIC,KAAJ,CAAUH,KAAV,CAAN;AACD;;AACD,QAAID,IAAI,GAAGP,IAAI,CAACY,KAAL,CAAWH,QAAQ,CAACF,IAApB,CAAX;;AAEA,QAAIA,IAAJ,EAAU;AACR,UAAIA,IAAI,CAACR,IAAT,EAAe;AACb,YAAIQ,IAAI,CAACR,IAAL,CAAUc,iBAAV,IAA+BN,IAAI,CAACR,IAAL,CAAUc,iBAAV,CAA4BC,MAA5B,GAAqC,CAAxE,EAA2E;AACzElB,UAAAA,SAAS,CAACW,IAAI,CAACR,IAAL,CAAUc,iBAAV,CAA4B,CAA5B,CAAD,CAAT;AACD;AACF,OAJD,MAIO,IAAIN,IAAI,CAACQ,MAAT,EAAiB;AACtBlB,QAAAA,eAAe,CAAC;AACdW,UAAAA,KAAK,EAAE,IADO;AAEdE,UAAAA,OAAO,EAAEH,IAAI,CAACQ,MAAL,CAAY,CAAZ,EAAeL;AAFV,SAAD,CAAf;AAID;AACF,KAXD,MAWO;AACLb,MAAAA,eAAe,CAAC;AACdW,QAAAA,KAAK,EAAE,IADO;AAEdE,QAAAA,OAAO,EAAE;AAFK,OAAD,CAAf;AAID;AACF,GAxBqB,CAAtB;AAyBD,CA5CM","sourcesContent":["import request from 'request';\nimport { SUBGRAPH_API_URL } from '../../utility/constants';\n\nexport const getGlobalPoolDetail = async (onSuccess, onErrorCallback) => {\n  let result;\n\n  const data = JSON.stringify({\n    query: `{\n            globalPoolDetails {\n              collectionPeriod\n              matchCollateralRatioInterval\n            }\n        }`,\n  });\n\n  var options = {\n    method: 'POST',\n    url: SUBGRAPH_API_URL,\n    headers: { 'Content-Type': 'application/json' },\n    body: data,\n  };\n\n  result = await request(options, async function (error, response) {\n    if (error) {\n      onErrorCallback({ error: true, message: error.message });\n      throw new Error(error);\n    }\n    var body = JSON.parse(response.body);\n\n    if (body) {\n      if (body.data) {\n        if (body.data.globalPoolDetails && body.data.globalPoolDetails.length > 0) {\n          onSuccess(body.data.globalPoolDetails[0]);\n        }\n      } else if (body.errors) {\n        onErrorCallback({\n          error: true,\n          message: body.errors[0].message,\n        });\n      }\n    } else {\n      onErrorCallback({\n        error: true,\n        message: 'No pool detail available.',\n      });\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}